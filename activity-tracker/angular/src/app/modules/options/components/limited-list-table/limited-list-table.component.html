<h1 class="text-center">{{title}}</h1>

<div class="container">
  <form class="settings-section" [formGroup]="formGroup" (ngSubmit)="addRules($event)">
    <table class="table table-striped table-bordered">
      <thead>
      <th scope="col">Site</th>
      <th scope="col">Time Interval</th>
      <th scope="col">Days</th>
      <th scope="col">Actions</th>
      </thead>
      <tbody>
      <tr class="text-center">
        <td>
          <div class="form-floating">
              <textarea
                [ngClass]="{
                'is-valid': formGroup.controls.addressUrl.valid,
                'is-invalid': formGroup.controls.addressUrl.invalid && formGroup.controls.addressUrl.touched
                }"
                style="height: 120px;"
                class="form-control"
                formControlName="addressUrl"
                placeholder="Add new URLs"
                id="floatingTextarea"></textarea>
            <label for="floatingTextarea">Add new URLs</label>
            <div class="invalid-feedback">
              Please provide a valid url.
            </div>
          </div>
        </td>
        <td>
          <input
            class="form-control mt-4"
            [ngClass]="{
            'is-valid': formGroup.controls.timeInterval.valid,
            'is-invalid': formGroup.controls.timeInterval.invalid && formGroup.controls.timeInterval.touched
            }"
            type="time"
            formControlName="timeInterval"
            min="00:01"
            name="timeInterval">
          <div class="invalid-feedback">
            <p *ngIf="formGroup.controls.startDate?.errors?.required">Date is required</p>
          </div>
        </td>
        <td>
          <select
            [ngClass]="{
            'is-valid': formGroup.controls.dayWeek.valid,
            'is-invalid': formGroup.controls.dayWeek.invalid && formGroup.controls.dayWeek.touched
            }"
            formControlName="dayWeek"
            class="form-select form-control mt-4"
            aria-label="Select day">
            <option [ngValue]="null" disabled>Choose day</option>
            <option
              *ngFor="let day of weekDays" [ngValue]="day">
              {{day}}
            </option>
          </select>
          <div class="invalid-feedback">
            Day a week is required
          </div>
        </td>
        <td>
          <div class="settings-table-actions-style">
            <button
              [disabled]="formGroup.invalid"
              type="submit"
              class="btn btn-success mt-4"
            >Add
            </button>
          </div>
        </td>
      </tr>
      <tr app-settings-row-limited *ngFor="let settingsItem of settingList"
          [settingsItem]="settingsItem"
          (changeItem)="changeItem($event)"
          (duplicateItem)="duplicateItem($event)"
          (removeItem)="removeItem($event)"
          class="text-center align-middle">
      </tr>
      </tbody>
    </table>
  </form>
</div>
